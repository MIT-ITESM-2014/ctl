(function(){
  $(function(){
    var el = app.stats.charts.delivery_intensity = {};
    $.extend(el,{
      parent: app.stats.charts,
      init: function(){
        var base = this.parent.getChart('delivery_intensity');
        $.extend(base, this);
        $.extend(this, base);
        this.initSlide();
      },
      initChart: function(){
        this.container.attr('id','example');
      },
      getToolTip: function(){
        return '<b>' + this.point.value + '</b> observed deliveries at <br><b>'+ this.series.xAxis.categories[this.point.x]  + '</b> in <br><b>' + this.series.yAxis.categories[this.point.y] + '</b>';        
      },
      render: function(){
        this.container.css('display', 'block');
        var opts = {

          series: [{
              name: 'Average Number of Deliveries',
              data: [[0,0,0],[1,0,2.2],[2,0,7.4],[3,0,11.2],[4,0,12],[5,0,6],[6,0,4.2],[7,0,6.8],[8,0,5.6],[9,0,4.2],[10,0,2.6]
              ,[0,1,0.4],[1,1,3.6],[2,1,7],[3,1,6.8],[4,1,4.8],[5,1,1.2],[6,1,2.4],[7,1,1],[8,1,1.2],[9,1,0.8],[10,1,0]
              ,[0,2,3],[1,2,6.2],[2,2,9.2],[3,2,11.4],[4,2,10.8],[5,2,6.2],[6,2,8.6],[7,2,8.6],[8,2,4.2],[9,2,0.8],[10,2,0]
              ,[0,3,6.6],[1,3,9],[2,3,9.4],[3,3,7.4],[4,3,18.4],[5,3,4],[6,3,0],[7,3,0],[8,3,0],[9,3,0],[10,3,0]],

          }]
        };
        this.container.highcharts(opts);
      },
      ready: function(){
        this.view.slider.addSlide(this);
      }
    });
    el.init();
  });
})(jQuery);
